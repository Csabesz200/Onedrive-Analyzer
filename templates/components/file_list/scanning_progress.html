<!-- Scanning Progress Indicator -->
<div x-show="isLoading" class="mt-6 card bg-base-100 shadow-xl">
    <div class="card-body">
        <div class="flex flex-col items-center justify-center">
            <div class="radial-progress onedrive-blue animate-spin" :style="`--value:${scanProgress};`"></div>
            <div class="mt-4 text-center w-full">
                <h2 class="card-title justify-center">Scanning Files...</h2>
                <p x-text="scanStatus" class="opacity-80"></p>

                <!-- Current File/Directory Display -->
                <div class="mt-1 opacity-80 bg-base-200 p-2 rounded-lg overflow-hidden max-w-full">
                    <p class="truncate text-left" x-text="scanMessage || 'Initializing...'" title="Current file"></p>
                </div>

                <!-- Progress Information -->
                <div class="w-full mt-4">
                    <!-- Animated Progress Bar -->
                    <div class="w-full bg-base-200 rounded-full h-4 overflow-hidden shadow-inner">
                        <div class="h-full rounded-full" :style="`width: ${scanProgress}%; background-color: var(--primary-color);`" :class="scanProgress === 0 ? 'animate-pulse' : 'transition-all duration-300'"></div>
                    </div>

                    <!-- Progress Percentage -->
                    <div class="flex justify-between text-xs mt-1">
                        <span>0%</span>
                        <span x-text="`${Math.round(scanProgress)}%`" class="font-medium animate-bounce"></span>
                        <span>100%</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>